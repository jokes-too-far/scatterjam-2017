!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={font:"42px Arial",fill:"#ffffff",align:"center",stroke:"black",strokeThickness:3};n.default=r},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("./states/boot"),a=r(o),i=e("./states/game"),s=r(i),u=e("./states/menu"),l=r(u),c=e("./states/preloader"),f=r(c),h=e("./states/gameFinal"),p=r(h),d=e("./states/levelEnd"),y=r(d),b=e("./states/splashScreen"),g=r(b),m=new Phaser.Game(window.innerWidth,window.innerHeight,Phaser.AUTO,"scatterjam-2017-game");m.state.add("boot",new a.default),m.state.add("game",new s.default),m.state.add("menu",new l.default),m.state.add("preloader",new f.default),m.state.add("gamefinal",new p.default),m.state.add("endLevel",new y.default),m.state.add("splashScreen",new g.default),m.state.start("boot")},{"./states/boot":20,"./states/game":21,"./states/gameFinal":22,"./states/levelEnd":23,"./states/menu":24,"./states/preloader":25,"./states/splashScreen":26}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../fontStyle"),l=r(u),c=e("./textBackground"),f=r(c),h=function(e){function t(e,n,r){o(this,t),r=r||e.world.centerY+128;var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.centerX,r,n,l.default));return i.bg=new f.default(e,r),i.anchor.setTo(.5),e.add.existing(i),i.events.onDestroy.add(function(){i.bg.remove()}),i}return i(t,e),s(t,[{key:"update",value:function(){}}]),t}(Phaser.Text);n.default=h},{"../fontStyle":1,"./textBackground":16}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.centerX,e.world.centerY,"lose-screen"));return n.animations.add("play",[0,1,2,3],2,!1),n.animations.play("play"),n.width=1024,n.height=1024,n.bringToTop(),n.anchor.setTo(.5),e.add.existing(n),n}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Sprite);n.default=s},{}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,a){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,"sun"));return i.anchor.setTo(.5),i.scale.setTo(1.2),e.add.existing(i),i}return a(t,e),i(t,[{key:"update",value:function(){this.angle=30+5*Math.sin(1*this.game.time.time/500)}}]),t}(Phaser.Sprite);n.default=s},{}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e){r(this,t),console.log("I win");var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.centerX,e.world.centerY,"victory-screen"));return n.width=1024,n.height=1024,n.bringToTop(),n.anchor.setTo(.5),e.add.existing(n),n}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Sprite);n.default=s},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=.3,u=64,l=11837520,c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,0,"gradient"));return n.width=e.width,n.height=e.height*(s+.1),n.tint=43775,e.add.existing(n),new h(e),new f(e),new d(e),new p(e),n}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Sprite),f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,Math.ceil(e.height*s),e.width,u,"tileable-horizon-sand"));return e.add.existing(n),n}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.TileSprite),h=(function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,.6*e.width,Math.ceil(e.height*s),e.width,u,"tileable-horizon-sand"));return n.tint=l,e.add.existing(n),n}a(t,e),i(t,[{key:"update",value:function(){}}])}(Phaser.TileSprite),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,Math.ceil(e.height*s)+u,e.width,e.height,"tileable-ground-sand"));return e.add.existing(n),n}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.TileSprite)),p=function(e){function t(e){r(this,t);var n=e.height/3+160,a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,Math.ceil(n),e.width,e.height,"ocean-tile"));return e.add.existing(a),a}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.TileSprite),d=(function(e){function t(e,n,a){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,100*e.width/a*n,Math.ceil(e.height*s)+u,100/a,e.height,"tileable-ground-sand"));return i.tint=l,e.add.existing(i),i}a(t,e),i(t,[{key:"update",value:function(){}}])}(Phaser.TileSprite),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,200,20,"birbs",0));return e.add.existing(n),n}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Sprite));n.default=c},{}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,a,i){r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,"candy",i));return console.log("I AM CANDY, YUM.  i live at",s.x,".",s.y),e.physics.enable(s,Phaser.Physics.ARCADE),e.add.existing(s),s.anchor.setTo(.5),s}return a(t,e),i(t,[{key:"update",value:function(){this.angle=5*Math.sin(1*this.game.time.time/500)}}]),t}(Phaser.Sprite);n.default=s},{}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.centerX,e.world.centerY,n));return a.anchor.set(.5,.5),e.add.existing(a),a}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Sprite);t.exports=s},{}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=128,u=function(e){function t(e,n,a){r(this,t),n-=s/2;var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s,n,"gordon",a));return console.log("I AM GORDON, HEAR ME RAWR"),e.physics.enable(i,Phaser.Physics.ARCADE),i.frame=0,e.add.existing(i),i.anchor.setTo(.5),i.animations.add("run",[0,1,2,3,4,5,6],20,!1),i.animations.add("build",[8,9,10,11,12,13,14,15,8,9,10,11,12,13,14,15],30,!1),i.walkingSound=i.game.add.audio("walking"),i.walkingSound.volume=.3,i.digging=i.game.add.audio("digging"),i.facing="right",i.scale.x*=-1,i}return a(t,e),i(t,[{key:"update",value:function(){this.bringToTop(),"build"==this.animations.currentAnim.name&&1==this.animations.currentAnim.isPlaying||(this.digging.stop(),this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT)||this.game.input.keyboard.isDown(Phaser.Keyboard.A)?(this.walkingSound.isPlaying||this.walkingSound.play(),"run"==this.animations.currentAnim.name&&0!=this.animations.currentAnim.isPlaying||this.animations.play("run"),"right"==this.facing&&(this.scale.x*=-1,this.facing="left"),this.body.velocity.x-=25,this.body.velocity.x=Math.max(this.body.velocity.x,-250)):this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)||this.game.input.keyboard.isDown(Phaser.Keyboard.D)?(this.walkingSound.isPlaying||this.walkingSound.play(),"run"==this.animations.currentAnim.name&&0!=this.animations.currentAnim.isPlaying||this.animations.play("run"),"left"==this.facing&&(this.scale.x*=-1,this.facing="right"),this.body.velocity.x+=25,this.body.velocity.x=Math.min(this.body.velocity.x,250)):this.body.velocity.x>0?this.body.velocity.x-=25:this.body.velocity.x<0&&(this.body.velocity.x+=25),(this.left<0||this.right>this.game.width+this.width)&&(this.body.velocity.x=0))}},{key:"startBuilding",value:function(){this.body.velocity.x=0,this.animations.play("build"),this.digging.isPlaying||this.digging.play()}}]),t}(Phaser.Sprite);n.default=u},{}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../fontStyle"),l=r(u),c=e("./textBackground"),f=r(c),h=function(e){function t(e,n,r){o(this,t),r=r||e.world.centerY+128;var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.centerX,r,n,l.default));return i.bg=new f.default(e,r),i.anchor.setTo(.5),e.add.existing(i),i.events.onDestroy.add(function(){i.bg.remove()}),i}return i(t,e),s(t,[{key:"update",value:function(){}}]),t}(Phaser.Text);n.default=h},{"../fontStyle":1,"./textBackground":16}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=128,u=function(e){function t(e,n,a,i){r(this,t),n-=s/2,a-=s/2;var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,"ralph",i));return u.anchor.setTo(.5),u.animations.add("run",[1,2,3,4,5,6,7,8],3,!0),console.log("I AM RALPH, I AM MEAN"),e.physics.enable(u,Phaser.Physics.ARCADE),u.body.setSize(50,128,40,0),u.body.velocity.x=0,e.add.existing(u),u.animations.play("run"),u}return a(t,e),i(t,[{key:"update",value:function(){this.body.velocity.x>this.game.ba.level.ralphMaxSpeed&&(this.body.velocity.x-=this.game.ba.level.ralphVelocity)}}]),t}(Phaser.Sprite);n.default=u},{}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n){r(this,t),console.log("going to y",n);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,n,20));return a.makeParticles("sandParticle"),a.setAlpha(.1,.5),a}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Particles.Arcade.Emitter);n.default=s},{}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../fontStyle"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=10,c=50,f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,2*l,e.height-l,"meterFill"));new h(e,n),n.anchor.setTo(0,1),e.add.existing(n),n.maxSand=3,n.sand=2,n.width=l+n.sand*c,new d(e,n),new p(e),n.bringToTop();for(var a=0;a<n.maxSand;a++)n.moveDown();return n}return a(t,e),i(t,[{key:"addSand",value:function(){return this.sand<this.maxSand&&(this.sand++,!0)}},{key:"removeSand",value:function(){return this.sand>0&&(this.sand--,!0)}},{key:"update",value:function(){var e=this.sand*c;this.width+=.1*(e-this.width),1===this.sand?this.tint=16776960:this.sand===this.maxSand?this.tint=65280:this.tint=16777215}}]),t}(Phaser.Sprite),h=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.x,n.y-n.height,"Sand",u.default));return a.fontSize=32,a.anchor=n.anchor,e.add.existing(a),a}return a(t,e),i(t,[{key:"update",value:function(){}}]),t}(Phaser.Text),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l,e.height-l,"meterFill"));return n.anchor.setTo(0,1),n.width=l,n.tint=16711680,e.add.existing(n),n}return a(t,e),t}(Phaser.Sprite),d=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,e.height,"meterFill"));a.width=n.maxSand*c+3*l,e.add.existing(a),a.tint=0,a.anchor=n.anchor,a.height=n.height+2*l,console.log(a.x,a.y,a.height,a.width),new y(e,a);for(var i=0;i<n.maxSand;i++)new b(e,a,2*l+i*c);return a}return a(t,e),t}(Phaser.Sprite),y=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.x+n.width,n.y-n.height/4,"meterFill"));return e.add.existing(a),a.anchor=n.anchor,a.height=n.height/2,a.width=12,a.tint=n.tint,a}return a(t,e),t}(Phaser.Sprite),b=function(e){function t(e,n,a){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a,n.y,"meterFill"));return e.add.existing(i),i.anchor=n.anchor,i.height=n.height,i.width=4,i.bringToTop(),i.tint=n.tint,i}return a(t,e),t}(Phaser.Sprite);n.default=f},{"../fontStyle":1}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,a){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,"sandcastleSmall"));return i.tint=11837520,i.frame=0,e.physics.enable(i,Phaser.Physics.ARCADE),i.body.immovable=!0,i.anchor.setTo(.5),i.events.onKilled.add(function(){i.body.destroy()}),i.myMaxHealth=4,i.health=1,e.add.existing(i),i}return a(t,e),i(t,[{key:"addHealth",value:function(){this.health<this.myMaxHealth&&(this.health++,this.updateDisplay())}},{key:"updateDisplay",value:function(){this.frame=this.health-1}},{key:"update",value:function(){}}]),t}(Phaser.Sprite);n.default=s},{}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},u=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,n,0,256,"textBackground"));return a.scale.y=.5,a.anchor.setTo(0,.5),e.add.existing(a),a.destroying=!1,a}return a(t,e),i(t,[{key:"update",value:function(){if(this.destroying)return void(this.alpha>.1?this.alpha-=.05:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this));this.width+=.15*(this.game.width-this.width)}},{key:"remove",value:function(){this.destroying=!0}}]),t}(Phaser.TileSprite);n.default=u},{}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../fontStyle"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.width,0,"",u.default));return a.timer=n,a.fontSize=32,a.anchor.setTo(1,0),e.add.existing(a),a}return a(t,e),i(t,[{key:"update",value:function(){var e=(this.timer.duration/Phaser.Timer.SECOND).toFixed(1);this.text=e,e<5?(this.tint=16711680,this.fontSize=64):e<15?(this.tint=16776960,this.fontSize=48):this.tint=16777215}}]),t}(Phaser.Text);n.default=l},{"../fontStyle":1}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./textBackground"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.world.centerX,-1e3,"titleGraphic"));return n.bg=new u.default(e,e.world.centerY),n.target=e.world.centerY-10,n.anchor.setTo(.5),e.add.existing(n),n.events.onDestroy.add(function(){n.bg.remove()}),n}return a(t,e),i(t,[{key:"update",value:function(){this.y+=.1*(this.target-this.y),this.scale.x+=1*Math.cos(1*this.game.time.time/500)/1e3,this.scale.y+=1*Math.cos(1*this.game.time.time/500)/1e3}}]),t}(Phaser.Sprite);n.default=l},{"./textBackground":16}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,a,i){r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,"wet-sand",i));return s.tint=11837520,s.anchor.setTo(.5),s.angle=e.rnd.integerInRange(-180,180),e.physics.enable(s,Phaser.Physics.ARCADE),s.body.immovable=!0,s.health=3,s.alpha=0,s.events.onKilled.add(function(){s.body.destroy()}),e.add.existing(s),s}return a(t,e),i(t,[{key:"update",value:function(){this.alpha<.9&&(this.alpha+=.1)}}]),t}(Phaser.Sprite);n.default=s},{}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),i(t,[{key:"preload",value:function(){this.load.image("preloader","assets/preloader.gif"),this.load.json("levels","assets/levels.json")}},{key:"create",value:function(){this.game.input.maxPointers=1,this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=1024,this.game.scale.maxHeight=768,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0,this.initGlobalVariables(),this.game.state.start("preloader")}},{key:"initGlobalVariables",value:function(){var e=this.game.cache.getJSON("levels");this.game.ba={dev_mode:!1,currentLevel:1,level:e[0],win:!0}}}]),t}(Phaser.State);n.default=s},{}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0})
;var s,u,l,c,f,h,p,d,y,b,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=e("../prefabs/ralph"),v=r(m),w=e("../prefabs/gordon"),_=r(w),O=e("../prefabs/timerDisplay"),P=r(O),j=e("../prefabs/sandcastleSmall"),x=r(j),k=e("../prefabs/headerText"),S=r(k),T=e("../prefabs/sandEmitter"),E=r(T),M=e("../prefabs/sandMeter"),C=r(M),D=e("../prefabs/candy"),R=r(D),A=e("../prefabs/wetSand"),G=r(A),L=[],K=[],H=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),g(t,[{key:"create",value:function(){var e=this;this.setUpDebug(),f=this.game.time.create(!1),this.game.ba.timer=f,f.add(Phaser.Timer.SECOND*this.game.ba.level.levelTimeSeconds,function(){e.endGame()}),f.start(),this.timerDisplay=new P.default(this.game,f),this.displayLevelName(),this.destroySound=this.game.add.audio("destroy"),this.loserSound=this.game.add.audio("loser"),this.levelMusic=this.game.add.audio("level"),this.levelMusic.loopFull(.6);var t=this.game.height;u=t/3+64,l=t/3+160,c=t/3,y=new E.default(this.game,c),h=new v.default(this.game,this.game.width,u,0),p=new _.default(this.game,l,0),b=new C.default(this.game),d=new R.default(this.game,64,c-20,0);for(var n=0;n<this.game.ba.level.sandSpots;n++)this.makeWetSand();this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN,Phaser.Keyboard).onDown.add(this.dig,this),this.game.input.keyboard.addKey(Phaser.Keyboard.S,Phaser.Keyboard).onDown.add(this.dig,this),this.game.input.keyboard.addKey(Phaser.Keyboard.UP).onDown.add(this.build,this),this.game.input.keyboard.addKey(Phaser.Keyboard.W).onDown.add(this.build,this)}},{key:"dig",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=K[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,i=a.x+a.width/2,s=a.x-a.width/2;if(p.x<=i&&p.x>=s&&b.sand<b.maxSand){b.addSand();1==a.health&&this.makeWetSand(),a.damage(1),p.startBuilding();var u=[],l=!0,c=!1,f=void 0;try{for(var h,d=K[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var y=h.value;y.health>0&&u.push(y)}}catch(e){c=!0,f=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw f}}return void(K=u)}}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"build",value:function(){if(0!==b.sand){var e="false",t="false",n="false",r=!0,o=!1,a=void 0;try{for(var i,s=L[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;p.x<=u.x+u.width/2&&p.x>=u.x-u.width/2&&(e="true",p.startBuilding(),this.emitSandParticles(p.x),u.health<u.myMaxHealth&&b.removeSand(),u.addHealth())}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}p.x<=h.x+h.width/2&&p.x>=h.x-h.width/2&&(t="true",console.log("How dare you build on me?")),p.x<=d.x+d.width/2&&p.x>=d.x-d.width/2&&(n="true",console.log("Sand on your candy? Yuck!")),"true"==e||"true"==t||"true"==n||(p.startBuilding(),L.push(new x.default(this.game,p.x,c)),this.emitSandParticles(p.x),b.removeSand())}}},{key:"update",value:function(){var e=this;if(h.x<0){if(!1===this.game.ba.win)return;this.game.ba.win=!1,this.game.ba.timer.stop();var t=this.game.time.create(!1);t.add(1.5*Phaser.Timer.SECOND,function(){e.moveToEndState()}),t.start()}var n=!0,r=!1,o=void 0;try{for(var a,i=L[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;this.game.physics.arcade.collide(h,s,this.collisionHandler,null,this)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}this.game.physics.arcade.collide(h,d,this.candyCollisionHandler,null,this);var u=[],l=!0,c=!1,f=void 0;try{for(var p,y=L[Symbol.iterator]();!(l=(p=y.next()).done);l=!0){var b=p.value;b.health>0&&u.push(b)}}catch(e){c=!0,f=e}finally{try{!l&&y.return&&y.return()}finally{if(c)throw f}}L=u}},{key:"collisionHandler",value:function(e,t){t.damage(1),t.updateDisplay(),0==t.health&&L.splice(),e.body.velocity.x=50,this.game.camera.shake(.005,50),this.destroySound.isPlaying||this.destroySound.play(),this.emitSandParticles(t.x)}},{key:"candyCollisionHandler",value:function(e,t){this.game.ba.win=!1,e.addChild(t),t.x=0,t.y=0,this.loserSound.play(),this.endGame()}},{key:"emitSandParticles",value:function(e){y.x=e,y.start(!0,200,null,5)}},{key:"endGame",value:function(){this.levelMusic.stop(),this.timerDisplay.kill(),this.moveToEndState()}},{key:"moveToEndState",value:function(){var e=[b,y,h,d].concat(L).concat(K);L=[],K=[],this.game.state.start("endLevel",!1,!1,h,p,e)}},{key:"setUpDebug",value:function(){var e=this;if(!0===this.game.ba.dev_mode){s=this.game.input.keyboard.addKey(Phaser.Keyboard.ESC),s.onDown.add(function(){this.input.onDown.add(this.endGame,this),f.stop()},this);this.game.input.keyboard.addKey(Phaser.Keyboard.F2).onDown.add(function(){f.stop(),e.game.ba.win=!1,e.endGame()},this)}}},{key:"displayLevelName",value:function(){var e=new S.default(this.game,this.game.ba.level.name);this.game.time.events.add(2e3,function(){e.bg.remove(),this.game.add.tween(e).to({x:this.game.width},2e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(e).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0)},this),this.game.time.events.add(4e3,function(){e.destroy()})}},{key:"makeWetSand",value:function(){var e=this.game.ba.level.gridSpaces,t=this.game.rnd.integerInRange(2,(e-3)/2)+this.game.rnd.integerInRange(2,(e-3)/2),n=this.game.width/e*t-32,r=!1,o=!0,a=!1,i=void 0;try{for(var s,u=K[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){s.value.x==n&&(r=!0)}}catch(e){a=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw i}}r?this.makeWetSand():K.push(new G.default(this.game,n,l-46,0))}}]),t}(Phaser.State);n.default=H},{"../prefabs/candy":8,"../prefabs/gordon":10,"../prefabs/headerText":11,"../prefabs/ralph":12,"../prefabs/sandEmitter":13,"../prefabs/sandMeter":14,"../prefabs/sandcastleSmall":15,"../prefabs/timerDisplay":17,"../prefabs/wetSand":19}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../prefabs/HeaderText"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),i(t,[{key:"create",value:function(){new u.default(this.game,"Thanks for playing!"),this.saveVarsToLocalStorage(),this.input.onDown.add(this.restartGame,this);var e=this;this.game.input.keyboard.onPressCallback=function(t){e.restartGame()}}},{key:"saveVarsToLocalStorage",value:function(){}},{key:"resetGlobalVariables",value:function(){var e=this.game.cache.getJSON("levels")[0];this.game.ba={dev_mode:!0,currentLevel:1,win:!0,level:e}}},{key:"update",value:function(){}},{key:"restartGame",value:function(){this.game.input.keyboard.onPressCallback=null,this.resetGlobalVariables(),this.game.state.start("menu")}}]),t}(Phaser.State);n.default=l},{"../prefabs/HeaderText":3}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../prefabs/HeaderText"),l=r(u),c=e("../prefabs/WinSplash"),f=r(c),h=e("../prefabs/LoseAnimation"),p=r(h),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"init",value:function(e,t,n){this.ralph=e,this.gordie=t,this.assetsToKill=n}},{key:"create",value:function(){var e=this,t=this.game.time.create(!1);t.add(4*Phaser.Timer.SECOND,function(){e.progressGame()}),this.input.onDown.add(function(){t.stop(),e.progressGame()},this),t.add(Phaser.Timer.SECOND,function(){var t=void 0,n=void 0;e.successSound=e.game.add.audio("success"),!1===e.game.ba.win?(t="Nooo... my candy! q.q",n=new p.default(e.game),e.message=new l.default(e.game,t,75)):(t="My candy is safe!",n=new f.default(e.game),e.message=new l.default(e.game,t,e.game.height-100),e.game.ba.win=!0,e.successSound.play()),e.gordie.destroy(),e.assetsToKill.push(n)}),t.start(),this.saveVarsToLocalStorage(),this.ralph.scale.x*=-1,this.ralph.animations.currentAnim.frameRate=30,this.ralph.animations.currentAnim.restart()}},{key:"saveVarsToLocalStorage",value:function(){}},{key:"resetGlobalVariables",value:function(){var e=this.game.ba.currentLevel+1,t=this.game.cache.getJSON("levels"),n=null,r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;u&&u.id===e&&(n=u)}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}this.game.ba={dev_mode:!0,currentLevel:e,level:n}}},{key:"update",value:function(){this.ralph.body.velocity.x+=50}},{key:"progressGame",value:function(){this.clearAssets();var e=this.game.ba.win,t=this.game.ba.level.lastLevel;if(this.resetGlobalVariables(),e&&!1===t)return void this.game.state.start("game",!1);this.game.state.start("gamefinal")}},{key:"clearAssets",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.assetsToKill[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.destroy()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}this.message.destroy()}}]),t}(Phaser.State);n.default=d},{"../prefabs/HeaderText":3,"../prefabs/LoseAnimation":4,"../prefabs/WinSplash":6}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../prefabs/background"),c=r(l),f=e("../prefabs/titleGraphic"),h=r(f),p=e("../prefabs/Sun"),d=r(p),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),u(t,[{key:"create",value:function(){new c.default(this.game),new d.default(this.game,this.game.width-50,50),this.assetsToClear=[];var e=new h.default(this.game,"Beach Annihilation!");this.assetsToClear.push(e),s=this.game.add.audio("title"),s.play(),this.input.onDown.add(this.startGame,this);var t=this;this.game.input.keyboard.onPressCallback=function(e){t.startGame()}}},{key:"update",value:function(){}},{key:"startGame",value:function(){this.game.input.keyboard.onPressCallback=null;var e=!0,t=!1,n=void 0;try{for(var r,o=this.assetsToClear[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.destroy()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}s.stop(),this.game.state.start("game",!1)}}]),t}(Phaser.State);n.default=y},{"../prefabs/Sun":5,"../prefabs/background":7,"../prefabs/titleGraphic":18}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),i(t,[{key:"preload",value:function(){var e=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader");this.load.setPreloadSprite(e),this.load.image("logo-stl","assets/logos/stl.png"),this.load.spritesheet("logo-studio","assets/logos/studio.png",128,128),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources()}},{key:"update",value:function(){}},{key:"loadResources",value:function(){this.game.load.spritesheet("ralph","assets/rolph.png",128,128,8),this.game.load.spritesheet("gordon","assets/gordon.png",128,128,18),this.game.load.spritesheet("sandcastleSmall","assets/sandcastle-small.png",128,128,4),this.game.load.spritesheet("candy","assets/candy.png",128,128,1),this.game.load.spritesheet("lose-screen","assets/lose-screen.png",512,512,4),this.game.load.image("ocean-tile","assets/ocean-tile.png"),this.game.load.image("wet-sand","assets/wet-sand.png"),this.game.load.image("tileable-ground-sand","assets/tileable-ground-sand.png"),this.game.load.image("tileable-horizon-sand","assets/tileable-horizon-sand.png"),this.game.load.image("gradient","assets/gradient.png"),this.game.load.image("sandParticle","assets/sandParticle.png"),this.game.load.image("meterFill","assets/pixel.png"),this.game.load.image("titleGraphic","assets/title.png"),this.game.load.image("textBackground","assets/tileable-title-background.png"),this.game.load.image("victory-screen","assets/victory-screen.png"),this.game.load.image("birbs","assets/birbs.png"),this.game.load.image("sun","assets/sun.png"),this.game.load.audio("title","assets/sounds/title.wav"),this.game.load.audio("digging","assets/sounds/digging.ogg"),this.game.load.audio("walking","assets/sounds/walking.ogg"),this.game.load.audio("destroy","assets/sounds/destroy.ogg"),this.game.load.audio("loser","assets/sounds/loser.ogg"),this.game.load.audio("level","assets/sounds/level.ogg"),this.game.load.audio("success","assets/sounds/success.ogg")}},{key:"onLoadComplete",value:function(){this.game.state.start("splashScreen")}}]),t}(Phaser.State);n.default=s},{}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../prefabs/centeredSprite"),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"create",value:function(){var e=this;this.input.onDown.add(this.skipIntro,this);var t=this;this.game.input.keyboard.onPressCallback=function(e){t.skipIntro()};var n=new s(this.game,"logo-stl");n.alpha=0,this.game.add.tween(n).to({alpha:1},1500,Phaser.Easing.Linear.In,!0).yoyo(!0,1e3).onComplete.add(function(){var t=e.game.add.sprite(e.game.world.centerX,e.game.world.centerY,"logo-studio");t.anchor.set(.5),t.scale.set(2),t.animations.add("logo"),t.animations.play("logo",15,!1).onComplete.add(function(){var t={font:"42px Arial",fill:"#ffffff",stroke:3355443,strokeThickness:5,align:"center"},n=e.game.add.text(e.game.world.centerX,100,"Jokes Too Far Games",t);n.alpha=0,n.anchor.set(.5),e.game.add.tween(n).to({alpha:1},2e3,Phaser.Easing.Linear.In,!0).onComplete.add(function(){e.game.state.start("menu")})})})}},{key:"skipIntro",value:function(){this.game.input.keyboard.onPressCallback=null,this.game.state.start("menu")}}]),t}(Phaser.State);t.exports=u},{"../prefabs/centeredSprite":9}]},{},[2]);
